import { c as create_ssr_component, e as escape } from "../../../chunks/ssr.js";
import "../../../chunks/client.js";
const css = {
  code: ".blog.svelte-6pv3h9.svelte-6pv3h9{max-width:1200px;margin:0 auto;padding:0 1rem}.loading.svelte-6pv3h9.svelte-6pv3h9,.error.svelte-6pv3h9.svelte-6pv3h9{text-align:center;padding:2rem;font-size:1.2rem}.error.svelte-6pv3h9.svelte-6pv3h9{color:#dc3545}.categories.svelte-6pv3h9.svelte-6pv3h9{display:flex;align-items:center;gap:1rem;margin:1rem 0}.post-count.svelte-6pv3h9.svelte-6pv3h9{color:#666;font-size:0.9rem}select.svelte-6pv3h9.svelte-6pv3h9{padding:0.5rem;font-size:1rem;border-radius:4px;border:1px solid #ddd;width:200px}.posts.svelte-6pv3h9.svelte-6pv3h9{display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:2rem;margin-bottom:2rem}.post-card.svelte-6pv3h9.svelte-6pv3h9{border:1px solid #ddd;padding:1rem;border-radius:8px;background:white;box-shadow:0 2px 4px rgba(0,0,0,0.1)}.post-content.svelte-6pv3h9.svelte-6pv3h9{cursor:pointer;transition:transform 0.2s}.post-content.svelte-6pv3h9.svelte-6pv3h9:hover{transform:translateY(-5px)}.post-card.svelte-6pv3h9 img.svelte-6pv3h9{width:100%;height:200px;object-fit:cover;border-radius:4px;margin-bottom:1rem}.post-card.svelte-6pv3h9 h2.svelte-6pv3h9{margin:0.5rem 0;font-size:1.5rem;color:#333}.post-card.svelte-6pv3h9 p.svelte-6pv3h9{color:#666;line-height:1.4}.labels.svelte-6pv3h9.svelte-6pv3h9{display:flex;flex-wrap:wrap;gap:0.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid #eee}.label.svelte-6pv3h9.svelte-6pv3h9{background:#f0f0f0;padding:0.25rem 0.5rem;border-radius:4px;font-size:0.875rem;color:#666;text-decoration:none;transition:all 0.2s}.label.svelte-6pv3h9.svelte-6pv3h9:hover{background:#e0e0e0;color:#333}.label.active.svelte-6pv3h9.svelte-6pv3h9{background:#4CAF50;color:white}.pagination.svelte-6pv3h9.svelte-6pv3h9{display:flex;justify-content:center;gap:0.5rem;margin:2rem 0}.pagination.svelte-6pv3h9 button.svelte-6pv3h9{padding:0.5rem 1rem;border:1px solid #750707;background:rgb(19, 8, 8);border-radius:4px;cursor:pointer;transition:all 0.2s;color:white}.pagination.svelte-6pv3h9 button.svelte-6pv3h9:hover:not(:disabled){background:#4b4949}.pagination.svelte-6pv3h9 button.active.svelte-6pv3h9{background:#21023a;color:white;border-color:#4CAF50}.pagination.svelte-6pv3h9 button.svelte-6pv3h9:disabled{background:#5f5959;cursor:not-allowed;opacity:0.5}.dots.svelte-6pv3h9.svelte-6pv3h9{padding:0.5rem;color:#666}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\r\\n  import { onMount } from 'svelte';\\r\\n  import { goto } from '$app/navigation';\\r\\n\\r\\n  let allPosts = [];\\r\\n  let displayedPosts = [];\\r\\n  let categories = [];\\r\\n  let selectedCategory = '';\\r\\n  let loading = true;\\r\\n  let error = '';\\r\\n\\r\\n  let currentPage = 1;\\r\\n  const postsPerPage = 6;\\r\\n  let totalPages = 0;\\r\\n\\r\\n  async function fetchPosts() {\\r\\n    const API_KEY = import.meta.env.VITE_API_KEY;\\r\\n    const BLOG_ID = import.meta.env.VITE_BLOG_ID;\\r\\n   \\r\\n    try {\\r\\n      loading = true;\\r\\n      const response = await fetch(\\r\\n        \`https://www.googleapis.com/blogger/v3/blogs/\${BLOG_ID}/posts?key=\${API_KEY}&fetchImages=true&maxResults=100&fetchBodies=true\`\\r\\n      );\\r\\n     \\r\\n      if (!response.ok) {\\r\\n        throw new Error('Error al cargar los posts');\\r\\n      }\\r\\n\\r\\n      const data = await response.json();\\r\\n     \\r\\n      if (!data.items) {\\r\\n        throw new Error('No se encontraron posts');\\r\\n      }\\r\\n\\r\\n      allPosts = data.items.map(post => ({\\r\\n        ...post,\\r\\n        slug: createSlug(post.title)\\r\\n      }));\\r\\n     \\r\\n      const allLabels = allPosts.flatMap(post => post.labels || []);\\r\\n      categories = [...new Set(allLabels)].sort();\\r\\n     \\r\\n      filterAndPaginate();\\r\\n    } catch (err) {\\r\\n      console.error('Error:', err);\\r\\n      error = err.message;\\r\\n    } finally {\\r\\n      loading = false;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function createSlug(title) {\\r\\n    return title\\r\\n      .toLowerCase()\\r\\n      .replace(/[^a-z0-9]+/g, '-')\\r\\n      .replace(/(^-|-$)/g, '');\\r\\n  }\\r\\n\\r\\n  function filterAndPaginate() {\\r\\n    const filteredPosts = selectedCategory\\r\\n      ? allPosts.filter(post => post.labels?.includes(selectedCategory))\\r\\n      : allPosts;\\r\\n\\r\\n    totalPages = Math.ceil(filteredPosts.length / postsPerPage);\\r\\n\\r\\n    if (currentPage > totalPages) {\\r\\n      currentPage = 1;\\r\\n    }\\r\\n\\r\\n    const startIndex = (currentPage - 1) * postsPerPage;\\r\\n    const endIndex = startIndex + postsPerPage;\\r\\n    displayedPosts = filteredPosts.slice(startIndex, endIndex);\\r\\n  }\\r\\n\\r\\n  function handleCategoryChange(event) {\\r\\n    const select = event.target;\\r\\n    selectedCategory = select.value;\\r\\n    currentPage = 1;\\r\\n    filterAndPaginate();\\r\\n  }\\r\\n\\r\\n  function handlePageChange(newPage) {\\r\\n    if (newPage >= 1 && newPage <= totalPages) {\\r\\n      currentPage = newPage;\\r\\n      filterAndPaginate();\\r\\n      window.scrollTo({ top: 0, behavior: 'smooth' });\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function handleCategoryClick(category, event) {\\r\\n    event.preventDefault();\\r\\n    event.stopPropagation();\\r\\n    selectedCategory = category;\\r\\n    currentPage = 1;\\r\\n    filterAndPaginate();\\r\\n  }\\r\\n\\r\\n  function goToPost(slug) {\\r\\n    goto(\`/blog/\${slug}\`);\\r\\n  }\\r\\n\\r\\n  function createExcerpt(content) {\\r\\n    const strippedContent = content.replace(/<[^>]*>/g, '');\\r\\n    return strippedContent.substring(0, 150) + '...';\\r\\n  }\\r\\n\\r\\n  onMount(fetchPosts);\\r\\n<\/script>\\r\\n\\r\\n<div class=\\"blog\\">\\r\\n  <h1>Blog</h1>\\r\\n  \\r\\n  {#if loading}\\r\\n    <div class=\\"loading\\">\\r\\n      Cargando posts...<progress class=\\"circle large\\"></progress>\\r\\n      {#if allPosts.length > 0}\\r\\n        <p>Posts cargados hasta ahora: {allPosts.length}</p>\\r\\n      {/if}\\r\\n    </div>\\r\\n  {:else if error}\\r\\n    <div class=\\"error\\">{error}</div>\\r\\n  {:else}\\r\\n    <div class=\\"categories\\">\\r\\n      <select\\r\\n        value={selectedCategory}\\r\\n        on:change={handleCategoryChange}\\r\\n      >\\r\\n        <option value=\\"\\">Todas las categorías</option>\\r\\n        {#each categories as category}\\r\\n          <option value={category}>{category}</option>\\r\\n        {/each}\\r\\n      </select>\\r\\n      <span class=\\"post-count\\">\\r\\n        {#if selectedCategory}\\r\\n          Mostrando posts en categoría: {selectedCategory}\\r\\n        {:else}\\r\\n          Mostrando todos los posts\\r\\n        {/if}\\r\\n      </span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\"posts\\">\\r\\n      {#each displayedPosts as post (post.id)}\\r\\n        <article class=\\"post-card\\">\\r\\n          <div class=\\"post-content\\" on:click={() => goToPost(post.slug)}>\\r\\n            {#if post.images?.[0]}\\r\\n              <img src={post.images[0].url} alt={post.title} />\\r\\n            {/if}\\r\\n            <h2>{post.title}</h2>\\r\\n            <p>{createExcerpt(post.content)}</p>\\r\\n          </div>\\r\\n          {#if post.labels}\\r\\n            <div class=\\"labels\\">\\r\\n              {#each post.labels as label}\\r\\n                <a\\r\\n                  href=\\"#\\"\\r\\n                  class=\\"label\\"\\r\\n                  class:active={selectedCategory === label}\\r\\n                  on:click={(e) => handleCategoryClick(label, e)}\\r\\n                >\\r\\n                  {label}\\r\\n                </a>\\r\\n              {/each}\\r\\n            </div>\\r\\n          {/if}\\r\\n        </article>\\r\\n      {/each}\\r\\n    </div>\\r\\n\\r\\n    {#if totalPages > 1}\\r\\n      <div class=\\"pagination\\">\\r\\n        <button\\r\\n          on:click={() => handlePageChange(currentPage - 1)}\\r\\n          disabled={currentPage === 1}\\r\\n        >\\r\\n          Anterior\\r\\n        </button>\\r\\n        \\r\\n        {#if currentPage > 3}\\r\\n          <button on:click={() => handlePageChange(1)}>1</button>\\r\\n          {#if currentPage > 4}\\r\\n            <span class=\\"dots\\">...</span>\\r\\n          {/if}\\r\\n        {/if}\\r\\n        \\r\\n        {#each Array(totalPages) as _, i}\\r\\n          {#if i + 1 >= currentPage - 1 && i + 1 <= currentPage + 1}\\r\\n            <button\\r\\n              class:active={currentPage === i + 1}\\r\\n              on:click={() => handlePageChange(i + 1)}\\r\\n            >\\r\\n              {i + 1}\\r\\n            </button>\\r\\n          {/if}\\r\\n        {/each}\\r\\n        \\r\\n        {#if currentPage < totalPages - 2}\\r\\n          {#if currentPage < totalPages - 3}\\r\\n            <span class=\\"dots\\">...</span>\\r\\n          {/if}\\r\\n          <button on:click={() => handlePageChange(totalPages)}>{totalPages}</button>\\r\\n        {/if}\\r\\n        \\r\\n        <button\\r\\n          on:click={() => handlePageChange(currentPage + 1)}\\r\\n          disabled={currentPage === totalPages}\\r\\n        >\\r\\n          Siguiente\\r\\n        </button>\\r\\n      </div>\\r\\n    {/if}\\r\\n  {/if}\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n  .blog {\\r\\n    max-width: 1200px;\\r\\n    margin: 0 auto;\\r\\n    padding: 0 1rem;\\r\\n  }\\r\\n\\r\\n  .loading, .error {\\r\\n    text-align: center;\\r\\n    padding: 2rem;\\r\\n    font-size: 1.2rem;\\r\\n  }\\r\\n\\r\\n  .error {\\r\\n    color: #dc3545;\\r\\n  }\\r\\n\\r\\n  .categories {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    gap: 1rem;\\r\\n    margin: 1rem 0;\\r\\n  }\\r\\n\\r\\n  .post-count {\\r\\n    color: #666;\\r\\n    font-size: 0.9rem;\\r\\n  }\\r\\n\\r\\n  select {\\r\\n    padding: 0.5rem;\\r\\n    font-size: 1rem;\\r\\n    border-radius: 4px;\\r\\n    border: 1px solid #ddd;\\r\\n    width: 200px;\\r\\n  }\\r\\n\\r\\n  .posts {\\r\\n    display: grid;\\r\\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\r\\n    gap: 2rem;\\r\\n    margin-bottom: 2rem;\\r\\n  }\\r\\n\\r\\n  .post-card {\\r\\n    border: 1px solid #ddd;\\r\\n    padding: 1rem;\\r\\n    border-radius: 8px;\\r\\n    background: white;\\r\\n    box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\r\\n  }\\r\\n\\r\\n  .post-content {\\r\\n    cursor: pointer;\\r\\n    transition: transform 0.2s;\\r\\n  }\\r\\n\\r\\n  .post-content:hover {\\r\\n    transform: translateY(-5px);\\r\\n  }\\r\\n\\r\\n  .post-card img {\\r\\n    width: 100%;\\r\\n    height: 200px;\\r\\n    object-fit: cover;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 1rem;\\r\\n  }\\r\\n\\r\\n  .post-card h2 {\\r\\n    margin: 0.5rem 0;\\r\\n    font-size: 1.5rem;\\r\\n    color: #333;\\r\\n  }\\r\\n\\r\\n  .post-card p {\\r\\n    color: #666;\\r\\n    line-height: 1.4;\\r\\n  }\\r\\n\\r\\n  .labels {\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    gap: 0.5rem;\\r\\n    margin-top: 1rem;\\r\\n    padding-top: 1rem;\\r\\n    border-top: 1px solid #eee;\\r\\n  }\\r\\n\\r\\n  .label {\\r\\n    background: #f0f0f0;\\r\\n    padding: 0.25rem 0.5rem;\\r\\n    border-radius: 4px;\\r\\n    font-size: 0.875rem;\\r\\n    color: #666;\\r\\n    text-decoration: none;\\r\\n    transition: all 0.2s;\\r\\n  }\\r\\n\\r\\n  .label:hover {\\r\\n    background: #e0e0e0;\\r\\n    color: #333;\\r\\n  }\\r\\n\\r\\n  .label.active {\\r\\n    background: #4CAF50;\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .pagination {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    gap: 0.5rem;\\r\\n    margin: 2rem 0;\\r\\n  }\\r\\n\\r\\n  .pagination button {\\r\\n    padding: 0.5rem 1rem;\\r\\n    border: 1px solid #750707;\\r\\n    background: rgb(19, 8, 8);\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    transition: all 0.2s;\\r\\n    color: white;\\r\\n  }\\r\\n\\r\\n  .pagination button:hover:not(:disabled) {\\r\\n    background: #4b4949;\\r\\n  }\\r\\n\\r\\n  .pagination button.active {\\r\\n    background: #21023a;\\r\\n    color: white;\\r\\n    border-color: #4CAF50;\\r\\n  }\\r\\n\\r\\n  .pagination button:disabled {\\r\\n    background: #5f5959;\\r\\n    cursor: not-allowed;\\r\\n    opacity: 0.5;\\r\\n  }\\r\\n\\r\\n  .dots {\\r\\n    padding: 0.5rem;\\r\\n    color: #666;\\r\\n  }\\r\\n</style>\\r\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let allPosts = [];
  $$result.css.add(css);
  return `<div class="blog svelte-6pv3h9"><h1 data-svelte-h="svelte-dbxyy8">Blog</h1> ${`<div class="loading svelte-6pv3h9">Cargando posts...<progress class="circle large"></progress> ${allPosts.length > 0 ? `<p>Posts cargados hasta ahora: ${escape(allPosts.length)}</p>` : ``}</div>`} </div>`;
});
export {
  Page as default
};
